import{a as st}from"./chunk-JXBRMWZB.js";import{Ga as L,Hc as q,Ia as l,Ja as N,Ka as I,Kg as it,Lc as G,Lf as tt,Mf as et,Ng as nt,Of as x,Og as ot,Pb as Q,Pd as X,Qd as J,Qf as k,Ra as j,Rc as U,Sa as H,Ua as V,Va as B,W as S,Wa as c,Xa as p,Xc as W,Xg as rt,Ya as h,Yc as z,Z as r,aa as m,ab as _,ah as ct,ba as M,ch as pt,db as f,ed as Z,fb as v,gb as F,ha as y,hb as O,ia as C,ic as K,lb as $,mb as A,na as w,nb as P,pb as g,rb as b,ta as T,xb as d,xc as Y,ya as s,za as R}from"./chunk-AYH25EOF.js";import"./chunk-MON7YFGF.js";var dt=["conTpl"],ut=["*"];function ht(n,t){if(n&1&&(c(0,"button",9),g(1),p()),n&2){let a=v();l("routerLink",a.backRouterLink)("nzType","primary"),s(),b(" ",a.locale.backToHome," ")}}var E=(()=>{let t=class t{set type(e){let i=this.typeDict[e];i&&(this.fixImg(i.img),this._type=e,this._title=i.title,this._desc="")}fixImg(e){this._img=this.dom.bypassSecurityTrustStyle(`url('${e}')`)}set img(e){this.fixImg(e)}set title(e){this._title=this.dom.bypassSecurityTrustHtml(e)}set desc(e){this._desc=this.dom.bypassSecurityTrustHtml(e)}checkContent(){this.hasCon=!rt(this.conTpl.nativeElement),this.cdr.detectChanges()}constructor(e){this.i18n=r(nt),this.dom=r(Y),this.directionality=r(Z,{optional:!0}),this.cdr=r(Q),this.destroy$=r(w),this.locale={},this.hasCon=!1,this.dir="ltr",this._img="",this._title="",this._desc="",this.backRouterLink="/",e.attach(this,"exception",{typeDict:{403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500"}}})}ngOnInit(){this.dir=this.directionality?.value,this.directionality?.change.pipe(z(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.i18n.change.pipe(z(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getData("exception"),this.cdr.detectChanges()}),this.checkContent()}};t.\u0275fac=function(i){return new(i||t)(R(W))},t.\u0275cmp=m({type:t,selectors:[["exception"]],viewQuery:function(i,o){if(i&1&&$(dt,7),i&2){let u;A(u=P())&&(o.conTpl=u.first)}},hostVars:4,hostBindings:function(i,o){i&2&&I("exception",!0)("exception-rtl",o.dir==="rtl")},inputs:{type:"type",img:"img",title:"title",desc:"desc",backRouterLink:"backRouterLink"},exportAs:["exception"],standalone:!0,features:[d],ngContentSelectors:ut,decls:10,vars:5,consts:[["conTpl",""],[1,"exception__img-block"],[1,"exception__img"],[1,"exception__cont"],[1,"exception__cont-title",3,"innerHTML"],[1,"exception__cont-desc",3,"innerHTML"],[1,"exception__cont-actions"],[3,"cdkObserveContent"],["nz-button",""],["nz-button","",3,"routerLink","nzType"]],template:function(i,o){if(i&1){let u=_();F(),c(0,"div",1),h(1,"div",2),p(),c(2,"div",3),h(3,"h1",4)(4,"div",5),c(5,"div",6)(6,"div",7,0),f("cdkObserveContent",function(){return y(u),C(o.checkContent())}),O(8),p(),L(9,ht,2,3,"button",8),p()()}i&2&&(s(),N("background-image",o._img),s(2),l("innerHTML",o._title,T),s(),l("innerHTML",o._desc||o.locale[o._type],T),s(5),j(9,o.hasCon?-1:9))},dependencies:[X,x,G],encapsulation:2,changeDetection:0});let n=t;return n})(),ft=[E],mt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=M({type:t}),t.\u0275inj=S({imports:[K,J,U,ot,k,ft]});let n=t;return n})();var D=(()=>{let t=class t{constructor(){this.route=r(q)}get type(){return this.route.snapshot.data.type}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=m({type:t,selectors:[["app-exception"]],standalone:!0,features:[d],decls:1,vars:1,consts:[[2,"min-height","500px","height","80%",3,"type"]],template:function(i,o){i&1&&h(0,"exception",0),i&2&&l("type",o.type)},dependencies:[mt,E],encapsulation:2,changeDetection:0});let n=t;return n})();function yt(n,t){if(n&1){let a=_();c(0,"button",3),f("click",function(){let i=y(a).$implicit,o=v();return C(o.go(i))}),g(1),p()}if(n&2){let a=t.$implicit;s(),b("\u89E6\u53D1",a,"")}}var lt=(()=>{let t=class t{constructor(){this.http=r(it),this.tokenService=r(st),this.types=[401,403,404,500]}go(e){this.http.get(`/api/${e}`).subscribe()}refresh(){this.tokenService.set({token:"invalid-token"}),this.http.post("https://localhost:5001/auth").subscribe({next:e=>console.warn("\u6210\u529F",e),error:e=>{console.log("\u6700\u540E\u7ED3\u679C\u5931\u8D25",e)}})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=m({type:t,selectors:[["exception-trigger"]],standalone:!0,features:[d],decls:6,vars:0,consts:[[1,"pt-lg"],["nz-button","","nzDanger",""],["nz-button","","nzType","link",3,"click"],["nz-button","","nzDanger","",3,"click"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"nz-card"),V(2,yt,2,1,"button",1,H),c(4,"button",2),f("click",function(){return o.refresh()}),g(5,"\u89E6\u53D1\u5237\u65B0Token"),p()()()),i&2&&(s(2),B(o.types))},dependencies:[pt,ct,k,x,tt,et],encapsulation:2});let n=t;return n})();var ee=[{path:"403",component:D,data:{type:403}},{path:"404",component:D,data:{type:404}},{path:"500",component:D,data:{type:500}},{path:"trigger",component:lt}];export{ee as routes};
